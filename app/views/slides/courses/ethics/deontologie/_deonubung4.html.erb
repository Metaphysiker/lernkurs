<h4 class="text-center">Konflikt?</h4>
<hr />
<p>
  Welche zwei Pflichten konfligieren im folgenden Textabschnitt?
</p>
<p>
  "Die Zeugen Jehovas sind eine Religionsgemeinschaft.
  Sie lehnen die Bluttransfusion aus religiösen Gründen ab.
  Sie würden lieber sterben, als das Blut von anderen Menschen anzunehmen.
  Soll ein Arzt einen Zeugen Jehovas verbluten lassen
  oder ihn gegen seinen Wunsch behandeln und Blut geben?"
</p>
<ul class="form-check rounded">
    <label class="form-check-label">
      <input class="form-check-input" type="checkbox" name="conflicts" value="0">
      Die Pflicht, Patienten die Wahrheit zu sagen.
    </label>
    <label class="form-check-label">
      <input class="form-check-input" type="checkbox" name="conflicts" value="1">
      Die Pflicht, Patienten nicht sterben zu lassen.
    </label>
    <label class="form-check-label">
      <input class="form-check-input" type="checkbox" name="conflicts" value="2">
      Die Pflicht, die Wünsche der Patienten zu respektieren.
    </label>
    <label class="form-check-label">
      <input class="form-check-input" type="checkbox" name="conflicts" value="3">
      Die Pflicht, Patienten nicht für wissenschaftliche Forschung zu missbrauchen.
    </label>
</ul>
<p>
  <button type="button" id="deonubung4" class="btn btn-info btn-lg my-3">Antwort prüfen!</button>
</p>

<!-- Modal -->
<div class="modal fade" id="deonubung4m" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title text-center" id="exampleModalLabel">Richtig!</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <p>

        </p>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-light" data-dismiss="modal">Schliessen</button>
        <button type="button" id="get-next-slide" data-dismiss="modal" class="btn btn-info get-slide-button mx-2" slide="<%= current_slide + 1 %>">Weiter</button>
      </div>
    </div>
  </div>
</div>

<script>
  $( document ).ready(function() {
    console.log("deonubung4 loaded!");

    var points = 100;
    var score = 0;

    $("#deonubung4").click(function(event){
        event.preventDefault();
        result1 = ($("input[name=conflicts]:checked").map(function() {
            return this.value;
        }).get().join(","));
        console.log(result1);
        if(result1.toString() == "1,2"){
                    $(".form-check").animate({backgroundColor: "#32CD32", color: "#FFFFFF" }, 200);
          addPointsToCourse(3, "deonubung4", points);
          $(".modal-body").empty().append(
            `
            <p>
                Du hast ${points} Punkte erhalten!
              </p>
            `
          );
          $('#deonubung4m').modal('show');
        } else {
          console.log("falsch");
          $(".form-check").animate({backgroundColor: "#DC143C", color: "#FFFFFF" }, 200).delay(400).animate({backgroundColor: "#FFFFFF", color: "#000000" }, 200);
          $('input[name=conflicts]').prop('checked', false);
          if(points > 0){
            points = points - 50;
          }
        };
    });

  });
</script>
