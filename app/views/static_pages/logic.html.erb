<div class="container">
  <h3 class="text-center">Übungen</h3>
  <div class="jumbotron bg-light">

  <h4>Formalisiere das folgende Argument!</h4>
  <hr class="my-4">
  <p>
  1. Peter ist krank oder er hat den Zug verpasst.
  </p>
  <p>
  2. Peter ist nicht krank.
  </p>
  <p>
    3. <b>Folglich hat Peter den Zug verpasst.</b>
  </p>

    <hr class="my-4">
    <p>
      p: Peter ist krank
      <br />
      q: Peter hat den Zug verpasst
    </p>
    <hr class="my-4">
    <p>
      <div class="input-group mb-3">
      1. <input type="text" name="exercise1_1" class="form-control" placeholder="p, q,-p, -q, p & q, p V q, p -> q ..." aria-label="..." aria-describedby="basic-addon2">
      </div>
    </p>
    <p>
      <div class="input-group mb-3">
      2. <input type="text" name="exercise1_2" class="form-control" placeholder="" aria-label="..." aria-describedby="basic-addon2">
      </div>
    </p>
    <hr />
    <p>
      <div class="input-group mb-3">
      3. <input type="text" name="exercise1_3" class="form-control" placeholder="" aria-label="..." aria-describedby="basic-addon2">
      </div>
    </p>

    <p>
      <button type="button" id="exercise1-check-button" class="btn btn-info btn-lg my-3">Antwort prüfen!</button>
    </p>

    <hr />

    <h4>Erstelle eine Wahrheitswerttabelle für dieses Argument!</h4>
    <hr />
    <p>
      1. p V q
    </p>
    <table class="table table-striped table-bordered text-center">
      <thead>
        <tr>
          <th scope="col" style="width: 25%">p</th>
          <th scope="col" style="width: 25%">q</th>
          <th scope="col" style="width: 50%">p V q</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>W</td>
          <td>W</td>
          <td>
            <input type="text" name="exercise2_1" class="form-control" placeholder="W, F">
          </td>
        </tr>
        <tr>
          <td>W</td>
          <td>F</td>
          <td>
            <input type="text" name="exercise2_2" class="form-control" placeholder="W, F">
          </td>
        </tr>
        <tr>
          <td>F</td>
          <td>W</td>
          <td>
            <input type="text" name="exercise2_3" class="form-control" placeholder="W, F">
          </td>
        </tr>
        <tr>
          <td>F</td>
          <td>F</td>
          <td>
            <input type="text" name="exercise2_4" class="form-control" placeholder="W, F">
          </td>
        </tr>
      </tbody>
    </table>
    <p>
      <button type="button" id="exercise2-check-button" class="btn btn-info btn-lg my-3">Antwort prüfen!</button>
    </p>
</div>
  <hr class="my-4">

</div>

<script>
  $( document ).ready(function() {
    console.log("logic loaded!");

    //Exercise 1_1
    $( "#exercise1-check-button" ).click(function() {
      exercise1_score = 0;
      check_answer("exercise1_1", "pvq", "exercise1_score");
      check_answer("exercise1_2", "-p", "exercise1_score");
      check_answer("exercise1_3", "q", "exercise1_score");

      if (exercise1_score === 3) {
        alert("Nice!");
      }

    });

    //Exercise 2_1
    $( "#exercise2-check-button" ).click(function() {
      exercise2_score = 0;
      check_answer("exercise2_1", "w", "exercise2_score");
      check_answer("exercise2_2", "w", "exercise2_score");
      check_answer("exercise2_3", "w", "exercise2_score");
      check_answer("exercise2_4", "f", "exercise2_score");

      if (exercise2_score === 4) {
        alert("Nice!");
      }

    });

    function check_answer(exercise_name, solution, score) {

      let input_field = $('input[name="' + exercise_name + '"]')
      let input = input_field.val().toLowerCase().replace(/ /g,'');
      if ([solution].indexOf(input) >= 0) {

        input_field.removeClass("is-invalid");
        input_field.addClass("is-valid");

        window[score]++;

        $(".modal-body").empty().append(
          `
          <p>
              Du hast  Punkte erhalten!
            </p>
          `
        );
        //$('#katimperativ').modal('show')
      } else {
        input_field.removeClass("is-valid");
        input_field.addClass("is-invalid");
      }
    }

  });
</script>
